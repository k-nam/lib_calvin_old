<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="/gostop.css">
</head>
<body>

	<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js"></script>
	<script>
    var uri = 'api/gostop';

		/*
    $(document).ready(function () {
    	alert("started");
    	$.ajax({
    		type: "GET",
    		dataType: 'json',
    		url: 'api/sample/123',
    		success: function (result) {
    			alert(JSON.stringify(result));
    			alert("success");
    		}
    	});
    });*/

    function callAjax(choice) {
    	$.ajax({
    		async: false,
    		type: "POST",
    		dataType: 'json',
    		url: 'api/gostop/postchoice?action=' + choice,
    		success: function (result) {
    			$('#result').val(JSON.stringify(result.FinalStatus));
    		},
    		error: function () {
    			alert("error");
    		}
    	});
    }

    function draw() {
    	var canvas = document.getElementById('canvas');
    	var context = canvas.getContext('2d');
    	context.fillStyle = 'red';
    	canvas.style.border = '5px solid black';

    	var image0 = new Image();
    	var image1 = new Image();
    	var image2 = new Image();
    	var image3 = new Image();

    	image0.src = 'image/0.png';
    	image1.src = 'image/1.png';
    	image2.src = 'image/2.png';
    	image3.src = 'image/3.png';

    	context.drawImage(image0, 5, 5, 60, 90);
    	context.drawImage(image1, 20, 5, 60, 90);

    	context.save();

    	context.translate(150, 30);
    	context.rotate(Math.PI / 2);
    	context.drawImage(image2, 5, 5, 60, 90);
    	context.drawImage(image3, 20, 5, 60, 90);
    	context.restore();

    	context.translate(450, 200);
    	context.rotate(-Math.PI / 2);
    	context.drawImage(image0, 5, 5, 60, 90);
    	context.drawImage(image1, 20, 5, 60, 90);
    	context.restore();
    }

    $(document).ready(function () {
    	//alert("started");
    	callAjax(-1);
    	draw();
    });

	</script>
	<div style="margin:auto; width:600px; height:600px">
		<h1>hi</h1>
		<div >
			<img  src="image/0.png" style="width:60px; height:90px; position:relative;" />
			<img class="rotate90" src="image/1.png" style="width:60px; height:90px; position:relative; left:-40px;" />
			<img class="rotate90" src="image/2.png" style="width:60px; height:90px; position:relative; left:-80px;" />
			<img class="rotate90" src="image/3.png" style="width:60px; height:90px; position:relative; left:-120px;" />
		</div>
		<input type="text" id="input" />
		<button id="buton" onclick="callAjax(document.getElementById('input').value);">제출</button>
		<br /><br /><br /><br />

		<canvas width="600" height="300" id="canvas"></canvas>

		<textarea id="result" rows="40" cols="80"></textarea>
	</div>
</body>
</html>


